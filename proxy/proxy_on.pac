var bypassDomains = ['localhost', '*lockyse7en.com', 'sina.wrating.com', 'api.segment.io', 'clientlog.portal.office.com', 'pic.iask.cn', 'simg.sinajs.cn', 'ckm.iqiyi.com', 'i.jiathis.com', 'mccdn.qcloud.com', 'b.scorecardresearch.com', 'm.blog.csdn.net', 'copr.fedoraproject.org', 'q.qlogo.cn', 'hm.baidu.com', 'v3.jiathis.com', 'mc.qcloudimg.com', 'cdn.sstatic.net', 'static.cnblogs.com', 'webapps.stackexchange.com', 'fonts.proxy.ustclug.org', 'nexus.officeapps.live.com', 'pubs.vmware.com', 'w.sharethis.com', 'wuchong.duoshuo.com', 'www.outlook.com', 'www.googletagmanager.com', 'csdnimg.cn', 'pub.idqqimg.com', 'ucenter.51cto.com', 't.sharethis.com', 's.swiftypecdn.com', 'ythdqualities.oneted.de', 'p.rfihub.com', '250-trouter-easia-a.drip.trouter.io', 'images.51cto.com', 'hits.sinajs.cn', 'bshare.optimix.asia', 's13.cnzz.com', 'logs.51cto.com', 'avatars.githubusercontent.com', 'cdn1.evernote.com', 'dc.csdn.net', 'lug.ustc.edu.cn', 'copr.fedorainfracloud.org', 'c.bing.com', 'ss.symcd.com', 'seccdn.libravatar.org', 'repo.fdzh.org', 'www.bizographics.com', 'pic.haowj.com.cn', 'api.weibo.com', 'apps.fedoraproject.org', 'secure.gravatar.com', 'resources.blogblog.com', 'jingyan.baidu.com', 'pingtas.qq.com', 'recdm.csdn.net', 'baijii-common.b0.upaiyun.com', 'stats.g.doubleclick.net', 'cdb.qcloud.com', 'i2.sinaimg.cn', 'xsi.outlook.com', 'login.live.com', 'outlook.com', 'console.qcloud.com', 'go.microsoft.com', 'img1.51cto.com', 'polldaddy.com', 'easylist-downloads.adblockplus.org', 'hzs4.cnzz.com', 'www.blogblog.com', 'd2wy8f7a9ursnm.cloudfront.net', '192.168.168.2', 'wuchong.me', 'static.duoshuo.com', 'code.jquery.com', 'sjs.sinajs.cn', 's1.bdstatic.com', 'f.hiphotos.baidu.com', 'kstj.baidu.com', 'img1.blogblog.com', 'nexusrules.officeapps.live.com', 'tajs.qq.com', 'wss.qcloud.com', 'news.sina.com.cn', 'ent.sina.com.cn', 's3.51cto.com', 'ocsp.godaddy.com', 'avatar.duoshuo.com', 'c.live.com', 'winterbash2016.stackexchange.com', 's1.51cto.com', 'gp.symcd.com', 'www.topthink.com', 'sf-addon.com', 'footprint.cws.api.sina.com.cn', 'client.a.pxi.pub', 'tdsql.qcloud.com', 'js.passport.qihucdn.com', 'img.baidu.com', 'images2015.cnblogs.com', 'tag.crsspxl.com', 'collector-pxpmp8ilui.perimeterx.net', 'cdn.staticfile.org', 'registry.hub.docker.com', 'sync.vmweb.net', 'cdn-qn0.jianshu.io', 'fe3.delivery.mp.microsoft.com', 'v.admaster.com.cn', 'bx01.optimix.asia', 'ping.qcloud.com', 'c.cnzz.com', 'l.sharethis.com', 'beacons.gvt2.com', 'ssl.xui.ptlogin2.qcloud.com', 'avatar.csdn.net', 'www.silvester.org.uk', 'imgcache.qq.com', 'common.cnblogs.com', 'loadm.exelator.com', 'iask.sina.com.cn', 'at.alicdn.com', 'pubads.g.doubleclick.net', 'ssl.captcha.qq.com', 'himg.bdimg.com', 'm1612.oadz.com', 'appsforoffice.microsoft.com', 'js.recurly.com', 'static-asm.secure.skypeassets.com', 'pplxh.blog.51cto.com', 'mtalk.google.com', 'ssl.ptlogin2.qcloud.com', 'noavatar.csdn.net', 'softwareupdate.vmware.com', 'app-sj05.marketo.com', 'redis.qcloud.com', 'push.zhanzhang.baidu.com', 'new.51cto.com', 'dev.microsofttranslator.com', 'img.qcloud.com', 's.thebrighttag.com', 'cdn.segment.com', 'sn3302.settings.live.net', 'monitor.qcloud.com', 'i.stack.imgur.com', 'download.csdn.net', 'diskapi.baidu.com', 'z4.cnzz.com', 'counter.cnblogs.com', 'images.cnblogs.com', 'www.qcloud.com', 'static.bshare.cn', 'cdn.qcloud.com', 'static.geetest.com', 'www.lockyse7en.com', 's11.cnzz.com', 'pingtcss.qq.com', 'edge.quantserve.com', 'fonts-gstatic.proxy.ustclug.org', 'qa.sockets.stackexchange.com', 'cc.swiftype.com', 'sls.update.microsoft.com', 'cm.optaim.com', 'c.csdnimg.cn', 'report.qcloud.com', 'static.iask.cn', 'yun.topthink.com', 'huatuocode.weiyun.com', 'control.blog.sina.com.cn', 'comet.blog.sina.com.cn', 'm.reachmax.cn', 'idsync.rlcdn.com', 'cm.g.doubleclick.net', 'secure.adnxs.com', 'fonts.fdzh.org', 'blogtj.sinajs.cn', 'hub.docker.com', 'js.aq.qq.com', 'mirrors.ustc.edu.cn', 's2.51cto.com', 'update.pan.baidu.com', 'cdn00.baidu-img.cn', 'vmweb.net', 'portrait6.sinaimg.cn', 'pixel.quantserve.com', 'dn-coding-net-production-pp.qbox.me', 'captcha.gtimg.com', 'i.sso.sina.com.cn', 'api.geetest.com', 'eas.outlook.com', 'edge.sharethis.com', 'r1.res.office365.com', 'www.cnblogs.com', 'upload.jianshu.io', 'app.qlogo.cn', 'ui.ptlogin2.qq.com', 'avatars0.githubusercontent.com', 'ocsp.digicert.com', 'www.ecb.europa.eu', 'www.baidu.com', 'fe2.update.microsoft.com', 'static.oneinstack.com', 'nsclick.baidu.com', 'buy.qcloud.com', 'manage.qcloud.com', 'log.mix.sina.com.cn', 'hzs13.cnzz.com', 'exp.bdstatic.com', 'ds.cdncache.org', 'passport.qcloud.com', 'www.privoxy.org', 'cdn1.lncld.net', 'img2.blogblog.com', 'avatars3.githubusercontent.com', 'everhelper.me', 'googleads.g.doubleclick.net', 'www.sinaimg.cn', 'badge.imagelayers.io', 'report.vip.qq.com', 'z13.cnzz.com', 'cdn-prom.sstatic.net', 'tags.bluekai.com', 'lockyse7en.myds.me', 'ezpvxa-sn3302.files.1drv.com', 'ueip.vmware.com', 'h5s.qzone.qq.com', 'sn3302.storage.live.com', 'huatuospeed.weiyun.com', 'ipip.iask.cn', 'iclick.cm.admaster.com.cn', 'icon.cnzz.com', 'log.51cto.com', 'tp.client.xunlei.com', 'browser.pipe.aria.microsoft.com', 'api.share.baidu.com', 'api.leancloud.cn', 'js-agent.newrelic.com', 'bdimg.share.baidu.com', 'blog.sina.com.cn', 'www.jianshu.com', 'oneclient.sfx.ms'];
		function FindProxyForURL(url, host) {
			if (isPlainHostName(host) // including localhost
			|| shExpMatch(host, "*.local")) {
				return "DIRECT";
			}
			// only checks plain IP addresses to avoid leaking domain name
			if (/^[0-9.]+$/.test(host)) {
				if (isInNet(host, "10.0.0.0", "255.0.0.0") ||
				isInNet(host, "172.16.0.0",  "255.240.0.0") ||
				isInNet(host, "192.168.0.0",  "255.255.0.0") ||
				isInNet(host, "192.168.168.0",  "255.255.0.0") ||
				isInNet(host, "10.0.75.0",  "255.255.0.0") ||
				isInNet(host, "127.0.0.0", "255.255.255.0")) {
					return "DIRECT";
				}
			}
			// Lantern desktop version proxies only http(s) and ws(s)
			if (url.substring(0, 4) != 'http' && (url.substring(0, 2) != 'ws')) {
				return "DIRECT";
			}
			for (var d in bypassDomains) {
				if (host == bypassDomains[d]) {
					return "DIRECT";
				}
			}
			return 'PROXY 127.0.0.1:18787; DIRECT';
		}
